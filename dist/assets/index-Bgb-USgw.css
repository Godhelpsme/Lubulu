:root{--primary: #673AB7;--primary-light: #7E57C2;--primary-dark: #512DA8;--primary-rgb: 103, 58, 183;--bg-soft: #EDE7F6;--bg-gradient: linear-gradient(135deg, #EDE7F6 0%, #F3E5F5 100%);--card-bg: #FFFFFF;--overlay-bg: rgba(0, 0, 0, .5);--surface: #FFFFFF;--surface-rgb: 255, 255, 255;--success: #F44336;--failure: #4CAF50;--warning: #FF9800;--info: #2196F3;--danger: #F44336;--danger-rgb: 244, 67, 54;--highlight: #FFB74D;--text-primary: #212121;--text-secondary: #757575;--text-disabled: #BDBDBD;--text-white: #FFFFFF;--border-light: #E0E0E0;--border-medium: #BDBDBD;--border-dark: #757575;--border: #E0E0E0;--hover: rgba(0, 0, 0, .04);--pressed: rgba(0, 0, 0, .08);--shadow-sm: 0 2px 4px rgba(103, 58, 183, .1);--shadow-md: 0 4px 12px rgba(103, 58, 183, .15);--shadow-lg: 0 8px 24px rgba(103, 58, 183, .2);--shadow-xl: 0 16px 48px rgba(103, 58, 183, .25);--radius-xs: 4px;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--radius-2xl: 32px;--space-xs: 4px;--space-sm: 8px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--space-2xl: 48px;--space-3xl: 64px;--font-sans: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--font-display: "Poppins", var(--font-sans);--text-xs: .75rem;--text-sm: .875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.25rem;--text-2xl: 1.5rem;--text-3xl: 1.875rem;--text-4xl: 2.25rem;--leading-tight: 1.25;--leading-normal: 1.5;--leading-relaxed: 1.75;--duration-fast: .15s;--duration-normal: .3s;--duration-slow: .5s;--ease-out: cubic-bezier(0, 0, .2, 1);--ease-in: cubic-bezier(.4, 0, 1, 1);--ease-in-out: cubic-bezier(.4, 0, .2, 1);--glass-alpha: .25;--glass-blur: 20px;--z-dropdown: 1000;--z-sticky: 1010;--z-fixed: 1020;--z-modal-backdrop: 1030;--z-modal: 1040;--z-popover: 1050;--z-tooltip: 1060;--z-toast: 1070}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;-webkit-tap-highlight-color:transparent}input[type=text],input[type=number],input[type=email],input[type=password],input[type=search],textarea,.selectable,.update-content,.notification-message,.setting-hint,.dialog-message{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}input[type=range]{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}img,canvas{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;pointer-events:auto}html{font-size:16px;line-height:var(--leading-normal);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}body{font-family:var(--font-sans);font-weight:400;color:var(--text-primary);background:var(--bg-gradient);min-height:100vh;display:flex;flex-direction:column;overflow-x:hidden}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-soft);border-radius:var(--radius-sm)}::-webkit-scrollbar-thumb{background:var(--primary-light);border-radius:var(--radius-sm);transition:background var(--duration-normal) var(--ease-out)}::-webkit-scrollbar-thumb:hover{background:var(--primary)}*{scrollbar-width:thin;scrollbar-color:var(--primary-light) var(--bg-soft)}:focus{outline:none}:focus-visible{outline:2px solid var(--primary);outline-offset:2px}::selection{background-color:var(--primary-light);color:var(--text-white)}::-moz-selection{background-color:var(--primary-light);color:var(--text-white)}.hidden{display:none!important}.invisible{visibility:hidden}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.text-xs{font-size:var(--text-xs)}.text-sm{font-size:var(--text-sm)}.text-base{font-size:var(--text-base)}.text-lg{font-size:var(--text-lg)}.text-xl{font-size:var(--text-xl)}.text-2xl{font-size:var(--text-2xl)}.text-3xl{font-size:var(--text-3xl)}.text-4xl{font-size:var(--text-4xl)}.font-normal{font-weight:400}.font-medium{font-weight:500}.font-semibold{font-weight:600}.font-bold{font-weight:700}.text-primary{color:var(--primary)}.text-success{color:var(--success)}.text-failure{color:var(--failure)}.text-warning{color:var(--warning)}.text-info{color:var(--info)}.text-secondary{color:var(--text-secondary)}.text-disabled{color:var(--text-disabled)}.m-0{margin:0}.m-1{margin:var(--space-xs)}.m-2{margin:var(--space-sm)}.m-3{margin:var(--space-md)}.m-4{margin:var(--space-lg)}.m-5{margin:var(--space-xl)}.m-6{margin:var(--space-2xl)}.p-0{padding:0}.p-1{padding:var(--space-xs)}.p-2{padding:var(--space-sm)}.p-3{padding:var(--space-md)}.p-4{padding:var(--space-lg)}.p-5{padding:var(--space-xl)}.p-6{padding:var(--space-2xl)}.mt-0{margin-top:0}.mt-1{margin-top:var(--space-xs)}.mt-2{margin-top:var(--space-sm)}.mt-3{margin-top:var(--space-md)}.mt-4{margin-top:var(--space-lg)}.mt-5{margin-top:var(--space-xl)}.mt-6{margin-top:var(--space-2xl)}.mb-0{margin-bottom:0}.mb-1{margin-bottom:var(--space-xs)}.mb-2{margin-bottom:var(--space-sm)}.mb-3{margin-bottom:var(--space-md)}.mb-4{margin-bottom:var(--space-lg)}.mb-5{margin-bottom:var(--space-xl)}.mb-6{margin-bottom:var(--space-2xl)}.pt-0{padding-top:0}.pt-1{padding-top:var(--space-xs)}.pt-2{padding-top:var(--space-sm)}.pt-3{padding-top:var(--space-md)}.pt-4{padding-top:var(--space-lg)}.pt-5{padding-top:var(--space-xl)}.pt-6{padding-top:var(--space-2xl)}.pb-0{padding-bottom:0}.pb-1{padding-bottom:var(--space-xs)}.pb-2{padding-bottom:var(--space-sm)}.pb-3{padding-bottom:var(--space-md)}.pb-4{padding-bottom:var(--space-lg)}.pb-5{padding-bottom:var(--space-xl)}.pb-6{padding-bottom:var(--space-2xl)}.flex{display:flex}.inline-flex{display:inline-flex}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.items-center{align-items:center}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.justify-center{justify-content:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.flex-1{flex:1}.flex-shrink-0{flex-shrink:0}.rounded-none{border-radius:0}.rounded-sm{border-radius:var(--radius-sm)}.rounded{border-radius:var(--radius-md)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:9999px}.shadow-none{box-shadow:none}.shadow-sm{box-shadow:var(--shadow-sm)}.shadow{box-shadow:var(--shadow-md)}.shadow-lg{box-shadow:var(--shadow-lg)}.shadow-xl{box-shadow:var(--shadow-xl)}.transition{transition:all var(--duration-normal) var(--ease-out)}.transition-fast{transition:all var(--duration-fast) var(--ease-out)}.transition-slow{transition:all var(--duration-slow) var(--ease-out)}.transition-colors{transition:color var(--duration-normal) var(--ease-out),background-color var(--duration-normal) var(--ease-out)}.transition-opacity{transition:opacity var(--duration-normal) var(--ease-out)}.transition-transform{transition:transform var(--duration-normal) var(--ease-out)}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}@media (prefers-contrast: high){:root{--border-light: #000000;--text-secondary: #000000}}@media (prefers-color-scheme: dark){body{background:#1a1a1a}}.glass{background:rgba(255,255,255,var(--glass-alpha));backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:1px solid rgba(255,255,255,.2);box-shadow:var(--shadow-lg)}.neu-flat{background:var(--card-bg);border-radius:var(--radius-2xl);box-shadow:0 2px 8px #673ab71a,inset 0 1px #ffffff80}.app-bar{position:sticky;top:0;left:0;right:0;z-index:var(--z-sticky);padding:var(--space-md);border-radius:0 0 var(--radius-2xl) var(--radius-2xl);margin-bottom:var(--space-lg)}.app-bar__content{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:0 auto}.app-bar .title{font-family:var(--font-display);font-size:var(--text-3xl);font-weight:700;color:var(--primary);margin:0;letter-spacing:-.02em}.settings-btn{background:transparent;border:none;color:var(--primary);cursor:pointer;padding:var(--space-sm);border-radius:var(--radius-md);transition:var(--duration-normal) var(--ease-out);display:flex;align-items:center;justify-content:center}.settings-btn:hover{background:#673ab71a;transform:rotate(90deg)}.settings-btn:active{transform:rotate(90deg) scale(.95)}main{flex:1;max-width:1200px;margin:0 auto;padding:0 var(--space-md);width:100%}.roulette-section{margin-bottom:var(--space-2xl)}.roulette-card{padding:var(--space-2xl);border-radius:var(--radius-2xl);text-align:center;position:relative}.roulette-container{position:relative;display:inline-block;margin-bottom:var(--space-xl)}#rouletteCanvas{width:300px;height:300px;border-radius:50%;box-shadow:var(--shadow-xl);transition:transform var(--duration-slow) var(--ease-out)}#rouletteCanvas:hover{transform:scale(1.02)}.roulette-pointer{position:absolute;top:-10px;left:50%;transform:translate(-50%);width:0;height:0;border-left:15px solid transparent;border-right:15px solid transparent;border-top:25px solid var(--primary);z-index:10;filter:drop-shadow(var(--shadow-sm))}.spin-btn{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-light) 100%);color:var(--text-white);border:none;padding:var(--space-md) var(--space-2xl);border-radius:var(--radius-2xl);font-family:var(--font-display);font-size:var(--text-xl);font-weight:700;cursor:pointer;transition:all var(--duration-normal) var(--ease-out);box-shadow:var(--shadow-md);letter-spacing:.05em;text-transform:uppercase;position:relative;overflow:hidden}.spin-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);transition:left .5s var(--ease-out)}.spin-btn:hover:before{left:100%}.spin-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl)}.spin-btn:active{transform:translateY(0);box-shadow:var(--shadow-md)}.spin-btn:disabled{background:var(--text-disabled);cursor:not-allowed;transform:none}.spin-btn:disabled:before{display:none}.tooltip{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:var(--text-primary);color:var(--text-white);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-sm);font-size:var(--text-sm);white-space:nowrap;margin-bottom:var(--space-sm);opacity:0;animation:fadeInUp var(--duration-normal) var(--ease-out) forwards}.tooltip:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid var(--text-primary)}@keyframes fadeInUp{0%{opacity:0;transform:translate(-50%) translateY(10px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.result-display{background:var(--card-bg);border-radius:var(--radius-xl);padding:var(--space-xl);margin-top:var(--space-lg);box-shadow:var(--shadow-lg);animation:slideInUp var(--duration-slow) var(--ease-out)}.result-icon{font-size:4rem;margin-bottom:var(--space-md)}.result-text{font-family:var(--font-display);font-size:var(--text-4xl);font-weight:700;margin-bottom:var(--space-lg)}.pity-notice{background:var(--warning);color:var(--text-white);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-sm);font-size:var(--text-sm);margin-bottom:var(--space-lg);animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.result-choice{margin-bottom:var(--space-lg)}.result-choice p{margin-bottom:var(--space-md);font-size:var(--text-lg);color:var(--text-secondary)}.choice-buttons{display:flex;gap:var(--space-md);justify-content:center}.choice-btn{padding:var(--space-md) var(--space-xl);border:none;border-radius:var(--radius-xl);font-size:var(--text-lg);font-weight:600;cursor:pointer;transition:all var(--duration-normal) var(--ease-out);box-shadow:var(--shadow-sm)}.yes-btn{background:var(--success);color:var(--text-white)}.no-btn{background:var(--failure);color:var(--text-white)}.choice-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.choice-btn:active{transform:translateY(0)}.result-actions{display:flex;gap:var(--space-md);justify-content:center}.share-result-btn,.confirm-result-btn{padding:var(--space-md) var(--space-xl);border:none;border-radius:var(--radius-xl);font-size:var(--text-base);font-weight:600;cursor:pointer;transition:all var(--duration-normal) var(--ease-out)}.share-result-btn{background:var(--info);color:var(--text-white)}.confirm-result-btn{background:var(--primary);color:var(--text-white)}.share-result-btn:hover,.confirm-result-btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}@keyframes slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.stats-section{margin-bottom:var(--space-2xl)}.stats-card{padding:var(--space-xl)}.stats-card h3{font-family:var(--font-display);font-size:var(--text-2xl);font-weight:600;color:var(--primary);text-align:center;margin-bottom:var(--space-lg)}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--space-lg)}.stat-item{text-align:center;padding:var(--space-md);border-radius:var(--radius-lg);background:#673ab70d;transition:transform var(--duration-normal) var(--ease-out)}.stat-item:hover{transform:translateY(-2px)}.stat-number{font-family:var(--font-display);font-size:var(--text-3xl);font-weight:700;margin-bottom:var(--space-xs);display:block}.stat-number.success{color:var(--success)}.stat-number.failure{color:var(--failure)}.stat-number.total{color:var(--primary)}.stat-number.rate{color:var(--info)}.stat-label{font-size:var(--text-sm);color:var(--text-secondary);font-weight:500}.calendar-section{margin-bottom:var(--space-2xl)}.calendar-card{padding:var(--space-xl)}.calendar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-lg)}.calendar-title{font-family:var(--font-display);font-size:var(--text-2xl);font-weight:600;color:var(--primary);margin:0}.calendar-nav-btn{background:transparent;border:1px solid var(--border-light);color:var(--primary);cursor:pointer;padding:var(--space-sm);border-radius:var(--radius-md);transition:all var(--duration-normal) var(--ease-out);display:flex;align-items:center;justify-content:center}.calendar-nav-btn:hover{background:var(--primary);color:var(--text-white);transform:scale(1.1)}.calendar-weekdays{display:grid;grid-template-columns:repeat(7,1fr);gap:var(--space-sm);margin-bottom:var(--space-md)}.weekday{text-align:center;font-size:var(--text-sm);font-weight:600;color:var(--text-secondary);padding:var(--space-sm)}.calendar-days{display:grid;grid-template-columns:repeat(7,1fr);gap:var(--space-sm);margin-bottom:var(--space-lg)}.calendar-day{position:relative;aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);font-size:var(--text-sm);font-weight:500;cursor:pointer;transition:all var(--duration-normal) var(--ease-out);border:1px solid transparent}.calendar-day:hover{transform:scale(1.05);box-shadow:var(--shadow-sm)}.calendar-day.today{border-color:var(--primary);background:#673ab71a}.calendar-day.selected{background:var(--primary);color:var(--text-white)}.calendar-day.highlighted{animation:highlight 1s ease-out}@keyframes highlight{0%{background:transparent}50%{background:var(--highlight)}to{background:transparent}}.calendar-day.empty{color:var(--text-disabled);cursor:default}.calendar-day.empty:hover{transform:none;box-shadow:none}.day-number{position:relative;z-index:1}.day-status{position:absolute;bottom:2px;right:2px;width:8px;height:8px;border-radius:50%;border:1px solid var(--card-bg)}.day-status.success{background:var(--success)}.day-status.failure{background:var(--failure)}.day-status.empty{background:var(--text-disabled);opacity:.3}.calendar-legend{display:flex;justify-content:center;gap:var(--space-lg)}.legend-item{display:flex;align-items:center;gap:var(--space-sm);font-size:var(--text-sm);color:var(--text-secondary)}.legend-dot{width:12px;height:12px;border-radius:50%}.legend-dot.success{background:var(--success)}.legend-dot.failure{background:var(--failure)}.legend-dot.empty{background:var(--text-disabled);opacity:.3}.footer{margin-top:auto;padding:var(--space-lg);text-align:center;background:#ffffff80;backdrop-filter:blur(10px);border-radius:var(--radius-2xl) var(--radius-2xl) 0 0}.footer-content{font-size:var(--text-sm);color:var(--text-secondary);max-width:1200px;margin:0 auto}.footer-content a{color:var(--primary);text-decoration:none;transition:color var(--duration-normal) var(--ease-out)}.footer-content a:hover{color:var(--primary-dark)}.overlay{position:fixed;inset:0;background:var(--overlay-bg);z-index:var(--z-modal-backdrop);opacity:0;transition:opacity var(--duration-normal) var(--ease-out)}.overlay.show{opacity:1}.dialog{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.8);z-index:var(--z-modal);max-width:500px;width:90%;max-height:90vh;overflow-y:auto;border-radius:var(--radius-2xl);padding:var(--space-xl);opacity:0;transition:all var(--duration-normal) var(--ease-out)}.dialog.show{opacity:1;transform:translate(-50%,-50%) scale(1)}.dialog-header{margin-bottom:var(--space-lg)}.dialog-header h3{font-family:var(--font-display);font-size:var(--text-2xl);font-weight:600;color:var(--primary);margin:0}.dialog-body{margin-bottom:var(--space-xl)}.dialog-message{font-size:var(--text-base);color:var(--text-primary);line-height:var(--leading-relaxed)}.dialog-actions{display:flex;gap:var(--space-md);justify-content:flex-end}.btn-primary,.btn-secondary,.btn-danger{padding:var(--space-md) var(--space-xl);border:none;border-radius:var(--radius-lg);font-size:var(--text-base);font-weight:600;cursor:pointer;transition:all var(--duration-normal) var(--ease-out);text-decoration:none;display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm)}.btn-primary{background:var(--primary);color:var(--text-white);box-shadow:var(--shadow-sm)}.btn-primary:hover{background:var(--primary-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn-secondary{background:transparent;color:var(--text-secondary);border:1px solid var(--border-light)}.btn-secondary:hover{background:var(--bg-soft);color:var(--text-primary)}.btn-danger{background:var(--success);color:var(--text-white);box-shadow:var(--shadow-sm)}.btn-danger:hover{background:#d32f2f;transform:translateY(-1px);box-shadow:var(--shadow-md)}.loading-spinner{width:20px;height:20px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.notification-container{position:fixed;top:var(--space-lg);right:var(--space-lg);z-index:var(--z-toast);max-width:400px;pointer-events:none}.notification{display:flex;align-items:flex-start;gap:var(--space-md);padding:var(--space-md);border-radius:var(--radius-lg);margin-bottom:var(--space-md);box-shadow:var(--shadow-lg);backdrop-filter:blur(var(--glass-blur));border:1px solid rgba(255,255,255,.2);opacity:0;transform:translate(100%);transition:all var(--duration-normal) var(--ease-out);pointer-events:auto}.notification.show{opacity:1;transform:translate(0)}.notification-success{background:#4caf501a;border-left:4px solid var(--failure)}.notification-error{background:#f443361a;border-left:4px solid var(--success)}.notification-warning{background:#ff98001a;border-left:4px solid var(--warning)}.notification-info{background:#2196f31a;border-left:4px solid var(--info)}.notification-loading{background:#673ab71a;border-left:4px solid var(--primary)}.notification-icon{font-size:var(--text-lg);flex-shrink:0}.notification-content{flex:1}.notification-message{font-size:var(--text-sm);color:var(--text-primary);line-height:var(--leading-normal);margin-bottom:var(--space-xs)}.notification-actions{margin-top:var(--space-sm)}.notification-close{background:none;border:none;color:var(--text-secondary);font-size:var(--text-lg);cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);transition:background var(--duration-normal) var(--ease-out);flex-shrink:0}.notification-close:hover{background:#0000001a;color:var(--text-primary)}.settings-content{display:flex;flex-direction:column;gap:var(--space-xl)}.setting-item{display:flex;flex-direction:column;gap:var(--space-sm)}.setting-item label{font-weight:600;color:var(--text-primary);font-size:var(--text-base)}.setting-hint{font-size:var(--text-sm);color:var(--text-secondary);line-height:var(--leading-relaxed)}input[type=range]{-webkit-appearance:none;appearance:none;width:100%;height:8px;background:var(--bg-soft);border-radius:var(--radius-sm);outline:none;cursor:pointer;transition:background var(--duration-normal) var(--ease-out)}input[type=range]:hover{background:#d1c4e9}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:24px;height:24px;background:var(--primary);border-radius:50%;cursor:pointer;box-shadow:var(--shadow-md);transition:all var(--duration-normal) var(--ease-out)}input[type=range]::-webkit-slider-thumb:hover{background:var(--primary-dark);transform:scale(1.1);box-shadow:var(--shadow-lg)}input[type=range]::-moz-range-thumb{width:24px;height:24px;background:var(--primary);border-radius:50%;cursor:pointer;border:none;box-shadow:var(--shadow-md);transition:all var(--duration-normal) var(--ease-out)}input[type=range]::-moz-range-thumb:hover{background:var(--primary-dark);transform:scale(1.1);box-shadow:var(--shadow-lg)}input[type=range]::-moz-range-track{height:8px;background:var(--bg-soft);border-radius:var(--radius-sm);border:none}input[type=number]{width:100%;padding:var(--space-md);border:2px solid var(--border-light);border-radius:var(--radius-lg);font-size:var(--text-base);font-family:var(--font-sans);background:var(--card-bg);color:var(--text-primary);transition:all var(--duration-normal) var(--ease-out);outline:none}input[type=number]:focus{border-color:var(--primary);box-shadow:0 0 0 3px #673ab71a}input[type=number]:hover{border-color:var(--border-medium)}.mode-buttons{display:flex;gap:var(--space-sm)}.mode-btn{flex:1;padding:var(--space-md);border:2px solid var(--border-light);background:var(--card-bg);color:var(--text-secondary);border-radius:var(--radius-lg);font-size:var(--text-base);font-weight:600;cursor:pointer;transition:all var(--duration-normal) var(--ease-out);text-align:center}.mode-btn:hover{border-color:var(--primary);color:var(--primary);background:#673ab70d}.mode-btn.active{background:var(--primary);color:var(--text-white);border-color:var(--primary);box-shadow:var(--shadow-md)}.mode-btn.active:hover{background:var(--primary-dark);border-color:var(--primary-dark)}.data-buttons{display:flex;gap:var(--space-md)}.data-buttons .btn-secondary{flex:1;justify-content:center}input[type=file]{display:none}.form-group{display:flex;flex-direction:column;gap:var(--space-sm);margin-bottom:var(--space-lg)}.form-group label{font-weight:600;color:var(--text-primary);font-size:var(--text-base)}.form-group input{padding:var(--space-md);border:2px solid var(--border-light);border-radius:var(--radius-lg);font-size:var(--text-base);font-family:var(--font-sans);background:var(--card-bg);color:var(--text-primary);transition:all var(--duration-normal) var(--ease-out);outline:none}.form-group input:focus{border-color:var(--primary);box-shadow:0 0 0 3px #673ab71a}.form-group input:hover{border-color:var(--border-medium)}.form-group input::placeholder{color:var(--text-disabled)}.form-hint{font-size:var(--text-sm);color:var(--text-secondary);line-height:var(--leading-normal)}.form-actions{display:flex;flex-direction:column;gap:var(--space-md);margin-top:var(--space-lg)}.link-btn{background:none;border:none;color:var(--primary);font-size:var(--text-sm);cursor:pointer;text-decoration:underline;transition:color var(--duration-normal) var(--ease-out);padding:var(--space-sm) 0}.link-btn:hover{color:var(--primary-dark)}.history-edit-buttons{display:flex;flex-direction:column;gap:var(--space-md);margin:var(--space-lg) 0}.history-edit-buttons .choice-btn{width:100%;justify-content:center}.update-content{max-height:400px;overflow-y:auto;margin:var(--space-lg) 0;padding-right:var(--space-sm)}.update-item{margin-bottom:var(--space-xl)}.update-item h4{font-family:var(--font-display);font-size:var(--text-lg);font-weight:600;color:var(--primary);margin-bottom:var(--space-md);display:flex;align-items:center;gap:var(--space-sm)}.update-item ul{list-style:none;padding:0;margin:0}.update-item li{padding:var(--space-sm) 0;padding-left:var(--space-lg);position:relative;line-height:var(--leading-relaxed);color:var(--text-primary)}.update-item li:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:6px;height:6px;background:var(--primary);border-radius:50%}.close-btn{position:absolute;top:var(--space-lg);right:var(--space-lg);background:none;border:none;font-size:var(--text-2xl);color:var(--text-secondary);cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);transition:all var(--duration-normal) var(--ease-out)}.close-btn:hover{background:#0000001a;color:var(--text-primary)}.auth-form{width:100%;max-width:400px}.modal{position:fixed;inset:0;z-index:var(--z-modal);display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity var(--duration-normal) var(--ease-out)}.modal.show{opacity:1}.modal-overlay{position:absolute;inset:0;background:var(--overlay-bg)}.modal-content{position:relative;z-index:1;background:var(--card-bg);border-radius:var(--radius-2xl);padding:var(--space-2xl);box-shadow:var(--shadow-xl);transform:scale(.8);transition:transform var(--duration-normal) var(--ease-out)}.modal.show .modal-content{transform:scale(1)}.modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-xl)}.modal-header h2{font-family:var(--font-display);font-size:var(--text-2xl);font-weight:600;color:var(--primary);margin:0}.modal-body{margin-bottom:var(--space-xl)}.primary-btn{position:relative;overflow:hidden}.primary-btn .loading-spinner{margin-left:var(--space-sm)}.primary-btn:disabled{background:var(--text-disabled);cursor:not-allowed}#luProbabilityValue{display:inline-flex;align-items:center;justify-content:center;min-width:40px;height:32px;background:var(--primary);color:var(--text-white);border-radius:var(--radius-lg);font-weight:600;font-size:var(--text-base);margin-left:var(--space-md)}.slider-container{display:flex;align-items:center;gap:var(--space-md)}.slider-container input[type=range]{flex:1}.form-group.error input{border-color:var(--success);box-shadow:0 0 0 3px #f443361a}.form-group.success input{border-color:var(--failure);box-shadow:0 0 0 3px #4caf501a}.error-message{color:var(--success);font-size:var(--text-sm);margin-top:var(--space-xs)}.success-message{color:var(--failure);font-size:var(--text-sm);margin-top:var(--space-xs)}.critical-error{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn var(--duration-slow) var(--ease-out)}.error-content{background:var(--card-bg);padding:var(--space-2xl);border-radius:var(--radius-2xl);text-align:center;max-width:400px;margin:var(--space-lg);box-shadow:var(--shadow-xl)}.error-content h2{font-family:var(--font-display);font-size:var(--text-3xl);color:var(--success);margin-bottom:var(--space-lg)}.error-content p{font-size:var(--text-lg);color:var(--text-primary);line-height:var(--leading-relaxed);margin-bottom:var(--space-xl)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fade-enter{opacity:0;transform:translateY(20px)}.fade-enter-active{opacity:1;transform:translateY(0);transition:all var(--duration-normal) var(--ease-out)}.fade-exit{opacity:1;transform:translateY(0)}.fade-exit-active{opacity:0;transform:translateY(-20px);transition:all var(--duration-normal) var(--ease-out)}.pulse{animation:pulse 2s infinite}@keyframes pulse{0%{box-shadow:0 0 #673ab766}70%{box-shadow:0 0 0 10px #673ab700}to{box-shadow:0 0 #673ab700}}.shake{animation:shake .5s ease-in-out}@keyframes shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.bounce{animation:bounce 1s ease-in-out}@keyframes bounce{0%,20%,53%,80%,to{transform:translateZ(0)}40%,43%{transform:translate3d(0,-30px,0)}70%{transform:translate3d(0,-15px,0)}90%{transform:translate3d(0,-4px,0)}}.user-panel{display:flex;align-items:center;position:relative}.user-info{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:#ffffff1a;border-radius:var(--radius-lg);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);transition:all var(--duration-normal) var(--ease-out)}.user-info:hover{background:#ffffff26}.user-avatar{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--primary);border-radius:50%;color:var(--text-white)}.username{font-weight:500;color:var(--text-white);font-size:var(--text-sm);max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-menu-btn{background:none;border:none;color:var(--text-white);cursor:pointer;padding:var(--space-xs);border-radius:var(--radius-sm);transition:background var(--duration-fast) var(--ease-out)}.user-menu-btn:hover{background:#ffffff1a}.user-menu{position:absolute;top:100%;right:0;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);min-width:180px;z-index:var(--z-dropdown);overflow:hidden;margin-top:var(--space-xs)}.menu-item{display:block;width:100%;padding:var(--space-md);border:none;background:none;color:var(--text-primary);font-size:var(--text-sm);text-align:left;cursor:pointer;transition:background var(--duration-fast) var(--ease-out)}.menu-item:hover{background:var(--hover)}.menu-item.danger{color:var(--danger)}.menu-item.danger:hover{background:rgba(var(--danger-rgb),.1)}.guest-info{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:#ffffff1a;border-radius:var(--radius-lg);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.guest-label{font-size:var(--text-sm);color:var(--text-white);opacity:.9}.auth-buttons{display:flex;gap:var(--space-sm)}.login-btn,.register-btn{padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);font-size:var(--text-sm);font-weight:500;cursor:pointer;transition:all var(--duration-normal) var(--ease-out);text-decoration:none;display:inline-flex;align-items:center;justify-content:center}.guest-btn{padding:var(--space-xs) var(--space-sm);border:1px solid rgba(255,255,255,.3);background:transparent;color:var(--text-white);border-radius:var(--radius-md);font-size:var(--text-xs);cursor:pointer;transition:all var(--duration-normal) var(--ease-out)}.guest-btn:hover{background:#ffffff1a;border-color:#ffffff80}.auth-dialog{width:100%;max-width:420px;margin:auto}.dialog-header{display:flex;justify-content:between;align-items:center;margin-bottom:var(--space-xl);position:relative}.dialog-header h3{font-family:var(--font-display);font-size:var(--text-xl);color:var(--text-primary);margin:0}.auth-form{width:100%}.form-group{margin-bottom:var(--space-lg)}.form-group label{display:block;margin-bottom:var(--space-sm);font-weight:500;color:var(--text-primary);font-size:var(--text-sm)}.form-group input{width:100%;padding:var(--space-md);border:2px solid var(--border);border-radius:var(--radius-md);font-size:var(--text-base);background:var(--surface);color:var(--text-primary);transition:all var(--duration-normal) var(--ease-out);box-sizing:border-box}.form-group input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(var(--primary-rgb),.1)}.form-group input::placeholder{color:var(--text-secondary);font-size:var(--text-sm)}.form-group input:invalid{border-color:var(--danger)}.form-group input:invalid:focus{box-shadow:0 0 0 3px rgba(var(--danger-rgb),.1)}.form-actions{display:flex;gap:var(--space-md);justify-content:flex-end;margin-top:var(--space-xl)}.form-footer{text-align:center;margin-top:var(--space-lg);padding-top:var(--space-lg);border-top:1px solid var(--border)}.form-footer p{margin:0;font-size:var(--text-sm);color:var(--text-secondary)}.text-link{background:none;border:none;color:var(--primary);cursor:pointer;font-size:inherit;text-decoration:underline;padding:0}.text-link:hover{color:var(--primary-dark)}.loading-overlay{position:absolute;inset:0;background:rgba(var(--surface-rgb),.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:inherit;backdrop-filter:blur(2px)}.loading-overlay .spinner{width:32px;height:32px;border:3px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.migration-tips{list-style:none;padding:0;margin:var(--space-md) 0}.migration-tips li{padding:var(--space-sm) 0;font-size:var(--text-sm);display:flex;align-items:center;gap:var(--space-sm)}.migration-tips li:before{content:"";width:4px;height:4px;border-radius:50%;background:var(--success);flex-shrink:0}.migration-tips li:last-child:before{background:var(--warning)}@media (max-width: 768px){.auth-dialog{max-width:90vw;margin:var(--space-md)}.user-panel{flex-wrap:wrap}.auth-buttons{flex-direction:column;gap:var(--space-xs)}.login-btn,.register-btn{padding:var(--space-xs) var(--space-sm);font-size:var(--text-xs)}.username{max-width:80px}.user-menu{right:-10px;min-width:160px}.form-actions{flex-direction:column-reverse}.form-actions button{width:100%}}@media (max-width: 480px){.dialog-header{flex-direction:column;align-items:flex-start;gap:var(--space-sm)}.close-btn{position:absolute;top:0;right:0}.auth-buttons{flex-direction:row;justify-content:center}.guest-btn{font-size:var(--text-xs);padding:var(--space-xs)}}@media (max-width: 575px){html{font-size:14px}.app-bar{padding:var(--space-sm) var(--space-md);margin-bottom:var(--space-md)}.app-bar .title{font-size:var(--text-2xl)}main{padding:0 var(--space-sm)}.roulette-card{padding:var(--space-lg);margin-bottom:var(--space-lg)}#rouletteCanvas{width:250px;height:250px}.spin-btn{padding:var(--space-sm) var(--space-lg);font-size:var(--text-lg)}.stats-grid{grid-template-columns:repeat(2,1fr);gap:var(--space-md)}.stat-number{font-size:var(--text-2xl)}.calendar-card{padding:var(--space-md)}.calendar-title{font-size:var(--text-xl)}.calendar-nav-btn{padding:var(--space-xs)}.calendar-days{gap:var(--space-xs)}.calendar-day{font-size:var(--text-xs);min-height:40px}.calendar-legend{flex-direction:column;gap:var(--space-sm);align-items:flex-start}.dialog{width:95%;margin:var(--space-sm);padding:var(--space-lg)}.dialog-header h3{font-size:var(--text-xl)}.dialog-actions{flex-direction:column}.dialog-actions button{width:100%}.result-display{padding:var(--space-lg);margin-top:var(--space-md)}.result-icon{font-size:3rem}.result-text{font-size:var(--text-3xl)}.choice-buttons,.result-actions{flex-direction:column}.setting-item{gap:var(--space-md)}.mode-buttons,.data-buttons{flex-direction:column}.notification-container{left:var(--space-sm);right:var(--space-sm);top:var(--space-sm);max-width:none}.footer{padding:var(--space-md)}.footer-content{font-size:var(--text-xs)}}@media (min-width: 576px) and (max-width: 767px){html{font-size:15px}.app-bar{padding:var(--space-md)}main{padding:0 var(--space-md)}.roulette-card{padding:var(--space-xl)}#rouletteCanvas{width:280px;height:280px}.stats-grid{grid-template-columns:repeat(2,1fr)}.calendar-days{gap:var(--space-sm)}.calendar-day{min-height:45px}.dialog{width:90%}.data-buttons{flex-direction:column}}@media (min-width: 768px) and (max-width: 991px){html{font-size:15px}main{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-xl);align-items:start}.roulette-section{grid-column:1 / -1;margin-bottom:var(--space-xl)}.stats-section,.calendar-section{margin-bottom:0}#rouletteCanvas{width:320px;height:320px}.stats-grid{grid-template-columns:repeat(2,1fr)}.calendar-day{min-height:50px}.dialog{width:70%;max-width:600px}}@media (min-width: 992px) and (max-width: 1199px){main{display:grid;grid-template-columns:2fr 1fr;gap:var(--space-2xl);align-items:start}.roulette-section{margin-bottom:var(--space-2xl)}.stats-section,.calendar-section{margin-bottom:var(--space-xl)}.stats-section{order:2}.calendar-section{order:3}.stats-grid{grid-template-columns:repeat(2,1fr);gap:var(--space-md)}}@media (min-width: 1200px){html{font-size:16px}main{display:grid;grid-template-columns:2fr 1fr;gap:var(--space-3xl);align-items:start}.roulette-section{margin-bottom:var(--space-2xl)}.stats-section,.calendar-section{margin-bottom:var(--space-xl)}#rouletteCanvas{width:400px;height:400px}.stats-grid{grid-template-columns:repeat(2,1fr)}.calendar-day{min-height:50px;font-size:var(--text-base)}.dialog{max-width:700px}.notification-container{max-width:450px}}@media (orientation: landscape) and (max-height: 600px){.app-bar{padding:var(--space-sm) var(--space-md)}main{padding-top:0}.roulette-card{padding:var(--space-lg)}#rouletteCanvas{width:200px;height:200px}.result-display{padding:var(--space-md)}.result-icon{font-size:2.5rem;margin-bottom:var(--space-sm)}.result-text{font-size:var(--text-2xl);margin-bottom:var(--space-md)}.dialog{max-height:80vh}}@media (hover: none) and (pointer: coarse){.calendar-day{min-height:50px}.calendar-nav-btn,.settings-btn{min-width:48px;min-height:48px}.choice-btn{min-height:48px;padding:var(--space-md) var(--space-xl)}.spin-btn:hover,.calendar-day:hover,.stat-item:hover{transform:none}.spin-btn:active{transform:scale(.98)}.choice-btn:active,.btn-primary:active,.btn-secondary:active{transform:scale(.95)}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.legend-dot{width:14px;height:14px}.day-status{width:10px;height:10px}}@media print{*{-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}body{background:#fff!important}.app-bar,.footer,.settings-btn,.dialog,.overlay,.notification-container{display:none!important}main{display:block!important;margin:0!important;padding:0!important}.roulette-section,.stats-section,.calendar-section{break-inside:avoid;margin-bottom:2rem!important}.glass,.neu-flat{background:#fff!important;border:1px solid #ccc!important;box-shadow:none!important}}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}#rouletteCanvas{transition:none!important}.result-display,.notification,.dialog{animation:none!important}}@media (prefers-contrast: high){:root{--primary: #4A148C;--success: #B71C1C;--failure: #1B5E20;--border-light: #000000;--text-secondary: #000000;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .5);--shadow-md: 0 4px 12px rgba(0, 0, 0, .5);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .5)}.glass{background:#ffffffe6!important;border:2px solid #000000!important}.calendar-day.today{border-width:3px}.day-status{border-width:2px}}@container (max-width: 400px){.stats-grid{grid-template-columns:1fr!important}}@supports (-webkit-backdrop-filter: blur(20px)){.glass{-webkit-backdrop-filter:blur(var(--glass-blur));backdrop-filter:blur(var(--glass-blur))}}@-moz-document url-prefix(){.glass{background:#ffffffe6}}@supports (-ms-ime-align: auto){.glass{background:#fffc}}@media (prefers-reduced-transparency: reduce){.glass{background:#fffffff2!important;backdrop-filter:none!important;-webkit-backdrop-filter:none!important}}@media (prefers-color-scheme: dark){body{background:linear-gradient(135deg,#1a1a2e,#16213e)}}
